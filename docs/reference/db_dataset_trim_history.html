<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Remove Vintages from the Beginning of Dataset — db_dataset_trim_history • timeseriesdb</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Remove Vintages from the Beginning of Dataset — db_dataset_trim_history" />
<meta property="og:description" content="Removes any vintages of the given dataset that are older than a specified date." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">timeseriesdb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/a01_basic_usage.html">Basic Usage</a>
    </li>
    <li>
      <a href="../articles/a02_advanced_usage.html">Advanced Usage</a>
    </li>
    <li>
      <a href="../articles/a03_admin_usage.html">Admin Usage</a>
    </li>
    <li>
      <a href="../articles/developer_doc.html">Developer Documentation</a>
    </li>
    <li>
      <a href="../articles/installation_guide.html">Installation Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mbannert/timeseriesdb/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Remove Vintages from the Beginning of Dataset</h1>
    <small class="dont-index">Source: <a href='https://github.com/mbannert/timeseriesdb/blob/master/R/datasets.R'><code>R/datasets.R</code></a></small>
    <div class="hidden name"><code>db_dataset_trim_history.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Removes any vintages of the given dataset that are older than a specified date.</p>
    </div>

    <pre class="usage"><span class='fu'>db_dataset_trim_history</span>(<span class='no'>con</span>, <span class='no'>set_id</span>, <span class='no'>older_than</span>, <span class='kw'>schema</span> <span class='kw'>=</span> <span class='st'>"timeseries"</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>con</th>
      <td><p>RPostgres connection object.</p></td>
    </tr>
    <tr>
      <th>set_id</th>
      <td><p>character Name of the set to trim</p></td>
    </tr>
    <tr>
      <th>older_than</th>
      <td><p>Date cut off point</p></td>
    </tr>
    <tr>
      <th>schema</th>
      <td><p><strong>character</strong> name of the database schema. Defaults to 'timeseries'</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>In some cases only the last few versions of time series are of interest. This
function can be used to trim off old vintages that are no longer relevant. It may
be helpful to use this function with high frequency data to save disk space
of versions are not needed.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other datasets functions: 
<code><a href='db_dataset_create.html'>db_dataset_create</a>()</code>,
<code><a href='db_dataset_delete.html'>db_dataset_delete</a>()</code>,
<code><a href='db_dataset_get_keys.html'>db_dataset_get_keys</a>()</code>,
<code><a href='db_dataset_list.html'>db_dataset_list</a>()</code>,
<code><a href='db_dataset_update.html'>db_dataset_update</a>()</code>,
<code><a href='db_ts_assign_dataset.html'>db_ts_assign_dataset</a>()</code>,
<code><a href='db_ts_get_dataset.html'>db_ts_get_dataset</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {

<span class='co'># Storing different versions of the data, use parameter valid_from</span>
<span class='co'># different versions are stored with the same key</span>
<span class='no'>ch.kof.barometer</span> <span class='kw'>&lt;-</span> <span class='no'>kof_ts</span>[<span class='st'>"baro_2019m11"</span>]
<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span>(<span class='no'>ch.kof.barometer</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ch.kof.barometer"</span>)
<span class='fu'><a href='store_time_series.html'>store_time_series</a></span>(
  <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>connection</span>,
  <span class='no'>ch.kof.barometer</span>,
  <span class='kw'>valid_from</span> <span class='kw'>=</span> <span class='st'>"2019-12-01"</span>,
  <span class='kw'>schema</span> <span class='kw'>=</span> <span class='st'>"schema"</span>
)

<span class='no'>ch.kof.barometer</span> <span class='kw'>&lt;-</span> <span class='no'>kof_ts</span>[<span class='st'>"baro_2019m12"</span>]
<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span>(<span class='no'>ch.kof.barometer</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ch.kof.barometer"</span>)
<span class='fu'><a href='store_time_series.html'>store_time_series</a></span>(
  <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>connection</span>,
  <span class='no'>ch.kof.barometer</span>,
  <span class='kw'>valid_from</span> <span class='kw'>=</span> <span class='st'>"2020-01-01"</span>,
  <span class='kw'>schema</span> <span class='kw'>=</span> <span class='st'>"schema"</span>
)

<span class='fu'><a href='db_dataset_create.html'>db_dataset_create</a></span>(
  <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>connection</span>,
  <span class='kw'>set_name</span> <span class='kw'>=</span> <span class='st'>"barometer"</span>,
  <span class='kw'>set_description</span> <span class='kw'>=</span> <span class='st'>"KOF Barometer"</span>,
  <span class='kw'>schema</span> <span class='kw'>=</span> <span class='st'>"schema"</span>
)

<span class='fu'><a href='db_ts_assign_dataset.html'>db_ts_assign_dataset</a></span>(
  <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>connection</span>,
  <span class='kw'>ts_keys</span> <span class='kw'>=</span> <span class='st'>"ch.kof.barometer"</span>,
  <span class='kw'>set_name</span> <span class='kw'>=</span> <span class='st'>"barometer"</span>,
  <span class='kw'>schema</span> <span class='kw'>=</span> <span class='st'>"schema"</span>
)

<span class='fu'>db_dataset_trim_history</span>(
  <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>connection</span>,
  <span class='kw'>set_id</span> <span class='kw'>=</span> <span class='st'>"barometer"</span>,
  <span class='kw'>older_than</span> <span class='kw'>=</span> <span class='st'>"2019-12-31"</span>,
  <span class='kw'>schema</span> <span class='kw'>=</span> <span class='st'>"schema"</span>
)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matthias Bannert, Severin Thöni.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


